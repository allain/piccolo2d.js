<html>
  <head>
    <title>Hierarchy Example - Piccolo2d.js</title>
  </head>
  <body>
  <canvas id="canvas" width="400" height="400">
    <p>No Canvas Support in this browser.</p>
  </canvas>
  <script type="text/javascript" src="../lib/javascript-1.6.js"></script>
  <script type="text/javascript" src="../extends.js"></script>
  <script type="text/javascript" src="../piccolo2d.js"></script>
  <script type="text/javascript">
    // To deal with the case where firebug's console is not available'
    if (typeof console == "undefined")
      console = {log: function() {}};

    // Example usage
    var pCanvas = new PCanvas(document.getElementById('canvas'));

    with ({
      camera: pCanvas.camera,
      layer : pCanvas.camera.layers[0],
      scheduler: pCanvas.camera.getRoot().scheduler
    }) {            
      var parent = layer;
      
      for (var i=0; i<100; i++) {
        var randomColor = "rgb("+(Math.round(Math.random()*254)) + "," +(Math.round(Math.random()*254)) + "," +(Math.round(Math.random()*254)) +")";

        var newChild = new PNode({
          fillStyle: randomColor,
          bounds: new PBounds(0, 0, 200, 200)
        }).scale(0.6);

        parent.addChild(newChild);
        parent = newChild;
      }

      parent.addChild(new PText("That's all folks"));
      
      var step = 0;
      scheduler.schedule(new PActivity({
        step: function() {
          layer.scale(1.05);
          return true;
        }
      }));
    }
  </script>
  <h1>Hierarchy Example</h1>
  <p>This example contains:</p>
  <ul>
    <li>100 200x200 squares nested as a chain of 100 squares, each child is 60% the size of its parent.</li>
  </ul>
</body>
</html>