<html>
  <head>
    <title>Sticky Node Example - Piccolo2d.js</title>
    <link rel="stylesheet" href="examples.css" />
  </head>
  <body>
  <canvas id="canvas" width="600" height="400">
    <p>No Canvas Support in this browser.</p>
  </canvas>
  <script type="text/javascript" src="../lib/javascript-1.6.js"></script>
  <script type="text/javascript" src="../lib/jquery-1.3.2.min.js"></script>
  <script type="text/javascript" src="../extends.js"></script>
  <script type="text/javascript" src="../piccolo2d.js"></script>
  <script type="text/javascript">
    // To deal with the case where firebug's console is not available'
    if (typeof console == "undefined")
      console = {log: function() {}};

    // Example usage
    var pCanvas = new PCanvas(document.getElementById('canvas'));

    with ({
      camera: pCanvas.camera,
      layer : pCanvas.camera.layers[0],
      scheduler: pCanvas.camera.getRoot().scheduler
    }) {
      camera.addChild(new PText({
        text: "Sticky Node",
        fillStyle: "rgb(255,0,0)"
      }));

      var layerNode = new PText("This Node is not being scaled, its PLayer is.").translate(0, 25);

      layer.addChild(layerNode);

      scheduler.schedule(new PActivity({
        step: function(ellapsed) {
          var cos = -Math.cos(ellapsed/800);
          layer.setTransform(new PTransform().scale(cos*2.5+3.5).translate(200+200*cos, 0));
          return true;
        }
      }));
    }
  </script>
  <h1>Sticky Node Example</h1>
  <p>This example contains:</p>
  <ul>
    <li>A node attached to the camera</li>
    <li>A node attached to the layer</li>
    <li>An activity that transforms the layer's transform along a sine wave.</li>
  </ul>
</body>
</html>